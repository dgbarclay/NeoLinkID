{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport DynamicForm from \"./components/DynamicForm.js\";\nimport { useRouter, createRouter } from 'next/router';\nimport fetch from 'node-fetch';\nimport { withRouter } from 'next/router';\nimport React, { Component } from \"react\";\nimport Cookie from 'js-cookie';\nimport Router from 'next/router';\n\nvar Confirmation = /*#__PURE__*/function (_Component) {\n  _inherits(Confirmation, _Component);\n\n  var _super = _createSuper(Confirmation);\n\n  function Confirmation() {\n    var _this;\n\n    _classCallCheck(this, Confirmation);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function () {\n      _this.setState({\n        loading: true\n      });\n\n      var credentialID = Cookie.get('credentialID');\n      var connectionID = Cookie.get('connectionID');\n      var model = Cookie.get('data');\n      var requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'connectionId': connectionID,\n          'credentialId': credentialID,\n          'credentialBody': model\n        })\n      };\n      console.log(requestOptions); // fetch('http://iwsg2020.crc.nd.edu:3000/DCR/v1/credential', requestOptions)\n      //     .then(async response => {\n      //         const data = await response.text();\n      //         console.log(data);\n      //         // check for error response\n      //         if (!response.ok) {\n      //             // get error message from body or default to response status\n      //             const error = (data && data.message) || response.status;\n      //             return Promise.reject(error);\n      //         }\n      //         else{\n      //             // clear data cookie\n      //             Cookie.set('data', '');\n      //             console.log(\"success\")\n      //             const {pathname} = Router\n      //             Router.push('/credentials/success')\n      //         }\n      //     })\n      //     .catch(error => {\n      //         this.setState({ errorMessage: error.toString() });\n      //         console.error('There was an error!', error);\n      //     });\n    });\n\n    return _this;\n  }\n\n  _createClass(Confirmation, [{\n    key: \"render\",\n    value: function render() {\n      var credentialID = Cookie.get('credentialID');\n      var connectionID = Cookie.get('connectionID');\n      var credentialName = Cookie.get('credentialName');\n      var model = Cookie.get('data');\n      console.log(\"THIS IS THE MODEL:\");\n      console.log(model);\n      var obj = model;\n      var labelArray = JSON.parse(Cookie.get('credentialLabel'));\n      var content = \"\";\n\n      function printData() {\n        var dataArray = [];\n        var obj = JSON.parse(model);\n        console.log(obj);\n        console.log(obj.firstName);\n        var i = 0;\n\n        for (var key in obj) {\n          var label = labelArray[i];\n          var value = obj[key];\n          dataArray.push(__jsx(\"tr\", null, __jsx(\"td\", null, __jsx(\"b\", null, label)), __jsx(\"td\", null, value)));\n          i++;\n        }\n\n        content = dataArray;\n      }\n\n      var loading = this.state.loading;\n      var spinnerStyle = {\n        fontSize: \"24px\",\n        color: \"#00B2FF\"\n      };\n      return __jsx(\"div\", {\n        className: \"jsx-3138470372\" + \" \" + \"container\"\n      }, __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\",\n        className: \"jsx-3138470372\"\n      }), __jsx(\"link\", {\n        href: \"https://fonts.googleapis.com/css?family=Quicksand:300,500\",\n        rel: \"stylesheet\",\n        className: \"jsx-3138470372\"\n      }), __jsx(Head, null, __jsx(\"title\", {\n        className: \"jsx-3138470372\"\n      }, \"NeoLinkID\"), __jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\",\n        className: \"jsx-3138470372\"\n      })), __jsx(\"main\", {\n        className: \"jsx-3138470372\"\n      }, __jsx(\"h2\", {\n        className: \"jsx-3138470372\"\n      }, \"Confirm the following values are correct.\"), printData(), __jsx(\"table\", {\n        id: \"t01\",\n        className: \"jsx-3138470372\"\n      }, __jsx(\"tbody\", {\n        className: \"jsx-3138470372\"\n      }, __jsx(\"tr\", {\n        className: \"jsx-3138470372\"\n      }, __jsx(\"th\", {\n        className: \"jsx-3138470372\"\n      }, \"Field Name\"), __jsx(\"th\", {\n        className: \"jsx-3138470372\"\n      }, \"Value\")), content)), __jsx(\"div\", {\n        className: \"jsx-3138470372\" + \" \" + \"grid\"\n      }, __jsx(\"button\", {\n        onClick: this.onSubmit,\n        disabled: loading,\n        className: \"jsx-3138470372\" + \" \" + \"card\"\n      }, loading && __jsx(\"i\", {\n        style: spinnerStyle,\n        className: \"jsx-3138470372\" + \" \" + \"fa fa-circle-o-notch fa-spin\"\n      }), loading && __jsx(\"p\", {\n        className: \"jsx-3138470372\"\n      }), !loading && __jsx(\"h3\", {\n        className: \"jsx-3138470372\"\n      }, \"Confirm\")), __jsx(Link, {\n        href: {\n          pathname: '/credentials/credential',\n          query: {\n            credentialID: credentialID,\n            credentialName: credentialName,\n            edit: true\n          }\n        } // as={as}\n\n      }, __jsx(\"div\", {\n        className: \"jsx-3138470372\" + \" \" + \"cardCancel\"\n      }, __jsx(\"p\", {\n        className: \"jsx-3138470372\"\n      }, \"Edit\"))))), __jsx(_JSXStyle, {\n        id: \"1565909031\"\n      }, [\"h2.jsx-3138470372{text-align:center;}\", \"table.jsx-3138470372{border:1px solid black;width:60%;border-collapse:collapse;}\", \"th.jsx-3138470372,td.jsx-3138470372{border:0px solid black;border-collapse:collapse;}\", \"th.jsx-3138470372,td.jsx-3138470372{padding:5px;text-align:left;}\", \"#t01.jsx-3138470372 tr.jsx-3138470372:nth-child(even){background-color:#eee;}\", \"#t01.jsx-3138470372 tr.jsx-3138470372:nth-child(odd){background-color:#fff;}\", \"#t01.jsx-3138470372 th.jsx-3138470372{background-color:#0085FF;color:white;}\", \".container.jsx-3138470372{min-height:100vh;padding:0 0.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"img.jsx-3138470372{width:80%;max-width:600px;}\", \"main.jsx-3138470372{padding:5rem 0;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"footer.jsx-3138470372{width:100%;height:100px;border-top:1px solid #eaeaea;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"footer.jsx-3138470372 img.jsx-3138470372{margin-left:0.5rem;}\", \"footer.jsx-3138470372 a.jsx-3138470372{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"a.jsx-3138470372{color:inherit;-webkit-text-decoration:none;text-decoration:none;}\", \".title.jsx-3138470372 a.jsx-3138470372{color:#0070f3;-webkit-text-decoration:none;text-decoration:none;}\", \".title.jsx-3138470372 a.jsx-3138470372:hover,.title.jsx-3138470372 a.jsx-3138470372:focus,.title.jsx-3138470372 a.jsx-3138470372:active{-webkit-text-decoration:underline;text-decoration:underline;}\", \".title.jsx-3138470372{margin:0;line-height:1.15;font-size:4rem;}\", \".title.jsx-3138470372,.description.jsx-3138470372{text-align:center;}\", \".description.jsx-3138470372{line-height:1.5;font-size:1.5rem;}\", \"code.jsx-3138470372{background:#fafafa;border-radius:5px;padding:0.75rem;font-size:1.1rem;font-family:Menlo,Monaco,Lucida Console,Liberation Mono, DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace;}\", \".grid.jsx-3138470372{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:800px;margin-top:3rem;}\", \".card.jsx-3138470372{margin:0.1rem;-webkit-flex-basis:45%;-ms-flex-preferred-size:45%;flex-basis:45%;padding:1rem;text-align:center;color:inherit;-webkit-text-decoration:none;text-decoration:none;border:1px solid #eaeaea;border-radius:10px;-webkit-transition:color 0.15s ease,border-color 0.15s ease;transition:color 0.15s ease,border-color 0.15s ease;background-color:white;color:black;}\", \".cardCancel.jsx-3138470372{margin:1rem;-webkit-flex-basis:45%;-ms-flex-preferred-size:45%;flex-basis:45%;padding:1rem;text-align:center;color:inherit;-webkit-text-decoration:none;text-decoration:none;border:1px solid #eaeaea;border-radius:10px;-webkit-transition:color 0.15s ease,border-color 0.15s ease;transition:color 0.15s ease,border-color 0.15s ease;}\", \".button.jsx-3138470372:disabled{opacity:0.5;}\", \".cardCancel.jsx-3138470372:hover,.cardCancel.jsx-3138470372:focus,.cardCancel.jsx-3138470372:active{color:#0070f3;border-color:#0070f3;}\", \".cardCancel.jsx-3138470372 h3.jsx-3138470372{margin:0 0 0rem 0;font-size:1.0rem;}\", \".cardCancel.jsx-3138470372 p.jsx-3138470372{margin:0 0 0rem 0;font-size:1.0rem;}\", \".card.jsx-3138470372:hover,.card.jsx-3138470372:focus,.card.jsx-3138470372:active{color:#0070f3;border-color:#0070f3;}\", \".card.jsx-3138470372 h3.jsx-3138470372{margin:0 0 0rem 0;font-size:1.5rem;}\", \".card.jsx-3138470372 p.jsx-3138470372{margin:0;font-size:1.25rem;line-height:1.5;}\", \".logo.jsx-3138470372{height:0em;}\", \"@media (max-width:600px){.grid.jsx-3138470372{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}\"]), __jsx(_JSXStyle, {\n        id: \"697585130\"\n      }, [\"html,body{padding:0;margin:0;font-family:'Montserrat',sans-serif;}\", \"body{font-family:'Quicksand',sans-serif;font-weight:300;}\", \"h1,h2,h3,h4,h5,h6{font-weight:500;}\", \"*{box-sizing:border-box;}\"]));\n    }\n  }]);\n\n  return Confirmation;\n}(Component);\n\nexport default withRouter(Confirmation);","map":null,"metadata":{},"sourceType":"module"}